/* empty css                    */import{aG as E,r as c,v as S,d as C,aH as I,i as p,o as _,F as D,j as w,k as N,g as i,w as y,a7 as v,B as m,a8 as V,b as q}from"./chunks/framework.-UWVxQvf.js";import{E as T,a as $}from"./chunks/theme.lHTTHbhM.js";function j(){const e=E(()=>import("./chunks/editor.BxucYdRR.js"),[]),t=c(!1),o="production"==="development"?"http://localhost:8090":`${window.location.origin}/design-widgets`,{promise:s,resolve:u}=Promise.withResolvers(),n={};async function l(){(await e).register(),t.value=!0,S().then(u)}return{waitForMounted:s,render:t,register:l,remoteUrl:o,extra:n}}function R(e){return Array.isArray(e)?e:[e]}var A=Object.defineProperty,F=Object.defineProperties,U=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))G.call(t,r)&&g(e,r,t[r]);if(b)for(var r of b(t))H.call(t,r)&&g(e,r,t[r]);return e},P=(e,t)=>F(e,U(t)),d={_create(e,t){const r={label:t.label,key:t.key,type:e,formItem:t.formItem,rules:J(t),attrs:t.attrs};switch(e){case"select":case"radio":case"radioButton":return P(x({},r),{type:e,options:t.options});default:return r}},input(e){return this._create("input",e)},number(e){return this._create("number",e)},select(e){return this._create("select",e)},radio(e){return this._create("radio",e)},radioButton(e){return this._create("radioButton",e)},switch(e){return this._create("switch",e)},time(e){return this._create("datetimePicker",e)},color(e){return this._create("colorPicker",e)},custom(e){return P(x({},this._create("custom",e)),{type:"custom",name:e.type})},styleNumber(e){return this._create("styleNumber",e)}};function J(e){const t=R(e.rules||[]);return e.required&&(typeof e.required=="string"?t.push({required:!0,message:e.required}):e.required&&t.push({required:!0,message:`请填写${e.label}`})),t}var k={columnContainer(e){return{_name:e.name||"栅格容器",_view:"containerGrid",_icon:e.icon,container:!0,meta:e.config,style:e.defaultStyle,schema:{props:e.attributes,style:e.stylesheet}}},create(e){return{_name:e.name,_view:e.type,_icon:e.icon,container:e.isContainer,meta:e.config,schema:{props:e.attributes,style:e.stylesheet},style:e.defaultStyle,data:e.defaultData}},group(e,t){return{type:1,name:e,list:t}},widget(e,t){return{type:0,name:e,list:t}},root(e){return this.create({name:e.name||"页面",type:"page",config:{visible:!1},defaultData:e.defaultData,defaultStyle:e.defaultStyle,attributes:e.attributes,stylesheet:e.stylesheet})}};const z=k.create({name:"活动设置",type:"page",config:{visible:!1},attributes:[d.input({label:"活动名称",key:"name",required:!0})],stylesheet:[d.color({label:"背景颜色",key:"background"}),d.custom({type:"image",label:"背景图片",key:"backgroundImage",attrs:{limit:[750,488],width:"375px",height:"244px",background:!0}})]}),L=k.create({name:"富文本",type:"richText",defaultStyle:{width:355,minHeight:32,marginBottom:10},defaultData:{isShow:1},attributes:[d.custom({label:"",type:"richText",key:"content",formItem:{labelWidth:"0"}})]}),M=[z,L],W={style:{margin:"0 auto",width:"500px","margin-bottom":"20px",display:"flex","align-items":"center","justify-content":"center","margin-top":"20px"}},K=["remote-url","widgets","extra"],Q=C({__name:"index",setup(e){const t=I("refEditor"),r=j(),o=c(window.localStorage.getItem("remote-url")||"http://localhost:8090"),s=c(o.value);n();function u(){window.localStorage.setItem("remote-url",s.value),window.location.reload()}async function n(){await r.register()}async function l(){await t.value.validate();const h=t.value.getData();window.alert(JSON.stringify(h,null,2))}return(h,a)=>{const O=T,f=$;return _(),p(D,null,[w("div",W,[a[3]||(a[3]=w("span",null,"远程地址：",-1)),i(O,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=B=>s.value=B),style:{width:"200px"}},null,8,["modelValue"]),i(f,{type:"primary",onClick:u},{default:y(()=>[...a[1]||(a[1]=[v(" 连接 ",-1)])]),_:1}),i(f,{onClick:l},{default:y(()=>[...a[2]||(a[2]=[v(" 获取数据 ",-1)])]),_:1})]),m(r).render.value?(_(),p("mpd-editor",{key:o.value,ref:"refEditor","remote-url":o.value,widgets:m(M),extra:m(r).extra},null,8,K)):N("",!0)],64)}}}),re=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page","sidebar":false},"headers":[],"relativePath":"demo.md","filePath":"demo.md"}'),X={name:"demo.md"};function Y(e,t,r,o,s,u){const n=Q,l=q("ClientOnly");return _(),p("div",null,[i(l,null,{default:y(()=>[i(n)]),_:1})])}const ae=V(X,[["render",Y]]);export{re as __pageData,ae as default};
